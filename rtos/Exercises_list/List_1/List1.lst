GAS LISTING /tmp/cctLN5LS.s 			page 1


   1               		.file	"List1.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.stabs	"/home/geraldobraz/Documentos/UFPE/embedded-systems/rtos/Exercises_list/List_1/",100,0,2,.L
   8               		.stabs	"List1.c",100,0,2,.Ltext0
   9               		.text
  10               	.Ltext0:
  11               		.stabs	"gcc2_compiled.",60,0,0,0
  12               		.stabs	"int:t(0,1)=r(0,1);-32768;32767;",128,0,0,0
  13               		.stabs	"char:t(0,2)=@s8;r(0,2);0;255;",128,0,0,0
  14               		.stabs	"long int:t(0,3)=@s32;r(0,3);020000000000;017777777777;",128,0,0,0
  15               		.stabs	"unsigned int:t(0,4)=r(0,4);0;0177777;",128,0,0,0
  16               		.stabs	"long unsigned int:t(0,5)=@s32;r(0,5);0;037777777777;",128,0,0,0
  17               		.stabs	"long long int:t(0,6)=@s64;r(0,6);01000000000000000000000;0777777777777777777777;",128,0,0,
  18               		.stabs	"long long unsigned int:t(0,7)=@s64;r(0,7);0;01777777777777777777777;",128,0,0,0
  19               		.stabs	"short int:t(0,8)=r(0,8);-32768;32767;",128,0,0,0
  20               		.stabs	"short unsigned int:t(0,9)=r(0,9);0;0177777;",128,0,0,0
  21               		.stabs	"signed char:t(0,10)=@s8;r(0,10);-128;127;",128,0,0,0
  22               		.stabs	"unsigned char:t(0,11)=@s8;r(0,11);0;255;",128,0,0,0
  23               		.stabs	"float:t(0,12)=r(0,1);4;0;",128,0,0,0
  24               		.stabs	"double:t(0,13)=r(0,1);4;0;",128,0,0,0
  25               		.stabs	"long double:t(0,14)=r(0,1);4;0;",128,0,0,0
  26               		.stabs	"short _Fract:t(0,15)=r(0,1);1;0;",128,0,0,0
  27               		.stabs	"_Fract:t(0,16)=r(0,1);2;0;",128,0,0,0
  28               		.stabs	"long _Fract:t(0,17)=r(0,1);4;0;",128,0,0,0
  29               		.stabs	"long long _Fract:t(0,18)=r(0,1);8;0;",128,0,0,0
  30               		.stabs	"unsigned short _Fract:t(0,19)=r(0,1);1;0;",128,0,0,0
  31               		.stabs	"unsigned _Fract:t(0,20)=r(0,1);2;0;",128,0,0,0
  32               		.stabs	"unsigned long _Fract:t(0,21)=r(0,1);4;0;",128,0,0,0
  33               		.stabs	"unsigned long long _Fract:t(0,22)=r(0,1);8;0;",128,0,0,0
  34               		.stabs	"_Sat short _Fract:t(0,23)=r(0,1);1;0;",128,0,0,0
  35               		.stabs	"_Sat _Fract:t(0,24)=r(0,1);2;0;",128,0,0,0
  36               		.stabs	"_Sat long _Fract:t(0,25)=r(0,1);4;0;",128,0,0,0
  37               		.stabs	"_Sat long long _Fract:t(0,26)=r(0,1);8;0;",128,0,0,0
  38               		.stabs	"_Sat unsigned short _Fract:t(0,27)=r(0,1);1;0;",128,0,0,0
  39               		.stabs	"_Sat unsigned _Fract:t(0,28)=r(0,1);2;0;",128,0,0,0
  40               		.stabs	"_Sat unsigned long _Fract:t(0,29)=r(0,1);4;0;",128,0,0,0
  41               		.stabs	"_Sat unsigned long long _Fract:t(0,30)=r(0,1);8;0;",128,0,0,0
  42               		.stabs	"short _Accum:t(0,31)=r(0,1);2;0;",128,0,0,0
  43               		.stabs	"_Accum:t(0,32)=r(0,1);4;0;",128,0,0,0
  44               		.stabs	"long _Accum:t(0,33)=r(0,1);8;0;",128,0,0,0
  45               		.stabs	"long long _Accum:t(0,34)=r(0,1);8;0;",128,0,0,0
  46               		.stabs	"unsigned short _Accum:t(0,35)=r(0,1);2;0;",128,0,0,0
  47               		.stabs	"unsigned _Accum:t(0,36)=r(0,1);4;0;",128,0,0,0
  48               		.stabs	"unsigned long _Accum:t(0,37)=r(0,1);8;0;",128,0,0,0
  49               		.stabs	"unsigned long long _Accum:t(0,38)=r(0,1);8;0;",128,0,0,0
  50               		.stabs	"_Sat short _Accum:t(0,39)=r(0,1);2;0;",128,0,0,0
  51               		.stabs	"_Sat _Accum:t(0,40)=r(0,1);4;0;",128,0,0,0
  52               		.stabs	"_Sat long _Accum:t(0,41)=r(0,1);8;0;",128,0,0,0
  53               		.stabs	"_Sat long long _Accum:t(0,42)=r(0,1);8;0;",128,0,0,0
  54               		.stabs	"_Sat unsigned short _Accum:t(0,43)=r(0,1);2;0;",128,0,0,0
  55               		.stabs	"_Sat unsigned _Accum:t(0,44)=r(0,1);4;0;",128,0,0,0
  56               		.stabs	"_Sat unsigned long _Accum:t(0,45)=r(0,1);8;0;",128,0,0,0
  57               		.stabs	"_Sat unsigned long long _Accum:t(0,46)=r(0,1);8;0;",128,0,0,0
GAS LISTING /tmp/cctLN5LS.s 			page 2


  58               		.stabs	"void:t(0,47)=(0,47)",128,0,0,0
  59               		.stabs	"/usr/lib/avr/include/avr/io.h",130,0,0,0
  60               		.stabs	"/usr/lib/avr/include/avr/sfr_defs.h",130,0,0,0
  61               		.stabs	"/usr/lib/avr/include/inttypes.h",130,0,0,0
  62               		.stabs	"/usr/lib/gcc/avr/4.9.2/include/stdint.h",130,0,0,0
  63               		.stabs	"/usr/lib/avr/include/stdint.h",130,0,0,0
  64               		.stabs	"int8_t:t(5,1)=(0,10)",128,0,121,0
  65               		.stabs	"uint8_t:t(5,2)=(0,11)",128,0,122,0
  66               		.stabs	"int16_t:t(5,3)=(0,1)",128,0,123,0
  67               		.stabs	"uint16_t:t(5,4)=(0,4)",128,0,124,0
  68               		.stabs	"int32_t:t(5,5)=(0,3)",128,0,125,0
  69               		.stabs	"uint32_t:t(5,6)=(0,5)",128,0,126,0
  70               		.stabs	"int64_t:t(5,7)=(0,6)",128,0,128,0
  71               		.stabs	"uint64_t:t(5,8)=(0,7)",128,0,129,0
  72               		.stabs	"intptr_t:t(5,9)=(5,3)",128,0,142,0
  73               		.stabs	"uintptr_t:t(5,10)=(5,4)",128,0,147,0
  74               		.stabs	"int_least8_t:t(5,11)=(5,1)",128,0,159,0
  75               		.stabs	"uint_least8_t:t(5,12)=(5,2)",128,0,164,0
  76               		.stabs	"int_least16_t:t(5,13)=(5,3)",128,0,169,0
  77               		.stabs	"uint_least16_t:t(5,14)=(5,4)",128,0,174,0
  78               		.stabs	"int_least32_t:t(5,15)=(5,5)",128,0,179,0
  79               		.stabs	"uint_least32_t:t(5,16)=(5,6)",128,0,184,0
  80               		.stabs	"int_least64_t:t(5,17)=(5,7)",128,0,192,0
  81               		.stabs	"uint_least64_t:t(5,18)=(5,8)",128,0,199,0
  82               		.stabs	"int_fast8_t:t(5,19)=(5,1)",128,0,213,0
  83               		.stabs	"uint_fast8_t:t(5,20)=(5,2)",128,0,218,0
  84               		.stabs	"int_fast16_t:t(5,21)=(5,3)",128,0,223,0
  85               		.stabs	"uint_fast16_t:t(5,22)=(5,4)",128,0,228,0
  86               		.stabs	"int_fast32_t:t(5,23)=(5,5)",128,0,233,0
  87               		.stabs	"uint_fast32_t:t(5,24)=(5,6)",128,0,238,0
  88               		.stabs	"int_fast64_t:t(5,25)=(5,7)",128,0,246,0
  89               		.stabs	"uint_fast64_t:t(5,26)=(5,8)",128,0,253,0
  90               		.stabs	"intmax_t:t(5,27)=(5,7)",128,0,273,0
  91               		.stabs	"uintmax_t:t(5,28)=(5,8)",128,0,278,0
  92               		.stabn	162,0,0,0
  93               		.stabn	162,0,0,0
  94               		.stabs	"int_farptr_t:t(3,1)=(5,5)",128,0,77,0
  95               		.stabs	"uint_farptr_t:t(3,2)=(5,6)",128,0,81,0
  96               		.stabn	162,0,0,0
  97               		.stabn	162,0,0,0
  98               		.stabs	"/usr/lib/avr/include/avr/fuse.h",130,0,0,0
  99               		.stabs	"__fuse_t:t(6,1)=(6,2)=s3low:(0,11),0,8;high:(0,11),8,8;extended:(0,11),16,8;;",128,0,244,0
 100               		.stabn	162,0,0,0
 101               		.stabn	162,0,0,0
 102               		.stabs	"uartInit:F(0,47)",36,0,39,uartInit
 103               	.global	uartInit
 104               		.type	uartInit, @function
 105               	uartInit:
 106               		.stabd	46,0,0
   1:List1.c       **** /* Atividade da Lista 1
   2:List1.c       ****     Faça um programa para o Arduino que receba um comando pela porta serial e ative o pino conecta
   3:List1.c       ****     Conecte a saída "echo" do ultrassom ao pino INT0 e configure sua interrupção para detectar o
   4:List1.c       ****     No programa principal, ao detectar a flag ativada, envie um byte com valor 48 pela porta serial
   5:List1.c       **** */
   6:List1.c       **** 
   7:List1.c       **** //***********************************//
   8:List1.c       **** // Includes
GAS LISTING /tmp/cctLN5LS.s 			page 3


   9:List1.c       ****     #include <avr/io.h>
  10:List1.c       ****     #include <avr/cpufunc.h>
  11:List1.c       ****     #include <avr/interrupt.h>
  12:List1.c       **** //"/usr/lib/avr/include/avr"
  13:List1.c       **** //***********************************//
  14:List1.c       **** // Defines
  15:List1.c       ****     #define FOSC 16000000ul  // Clock Speed
  16:List1.c       ****     #define BAUD 115200      // Baudrate
  17:List1.c       ****     #define BAUDRATE (FOSC/(8ul*BAUD) - 1) 
  18:List1.c       ****     #define BUFFER_SIZE 200   // USART buffer size
  19:List1.c       ****     
  20:List1.c       **** 
  21:List1.c       **** //***********************************//
  22:List1.c       **** 
  23:List1.c       **** //***********************************//
  24:List1.c       **** // Global Variables
  25:List1.c       ****     uint8_t rx_buffer[BUFFER_SIZE];     /* buffer para transmissão */
  26:List1.c       ****     uint8_t rx_head, rx_tail;   /* ponteiros para o buffer circular */
  27:List1.c       ****     uint8_t flag = 0;
  28:List1.c       **** 
  29:List1.c       ****     uint8_t tx_buffer[BUFFER_SIZE];     /* buffer para transmissão */
  30:List1.c       ****     uint8_t tx_head, tx_tail;   /* ponteiros para o buffer circular */
  31:List1.c       ****     uint8_t usart_transmitting;
  32:List1.c       **** //***********************************//
  33:List1.c       **** 
  34:List1.c       **** 
  35:List1.c       **** 
  36:List1.c       **** // ********* Configurations *********//
  37:List1.c       ****     //***********************************//
  38:List1.c       ****     // Uart
  39:List1.c       ****         void uartInit(){
 107               		.stabn	68,0,39,.LM0-.LFBB1
 108               	.LM0:
 109               	.LFBB1:
 110               	/* prologue: function */
 111               	/* frame size = 0 */
 112               	/* stack size = 0 */
 113               	.L__stack_usage = 0
  40:List1.c       ****             // Configuration of Uart Transmition RX-TX
  41:List1.c       ****             DDRD = (1 << PD1); // Configure Tx as Output
 114               		.stabn	68,0,41,.LM1-.LFBB1
 115               	.LM1:
 116 0000 82E0      		ldi r24,lo8(2)
 117 0002 8AB9      		out 0xa,r24
  42:List1.c       ****             DDRD = ~(1 << PD0); // Configure Rx as Input
 118               		.stabn	68,0,42,.LM2-.LFBB1
 119               	.LM2:
 120 0004 9EEF      		ldi r25,lo8(-2)
 121 0006 9AB9      		out 0xa,r25
  43:List1.c       ****             
  44:List1.c       ****             // Configurate the Baudrate
  45:List1.c       ****             UBRR0H = (BAUDRATE >> 8);
 122               		.stabn	68,0,45,.LM3-.LFBB1
 123               	.LM3:
 124 0008 1092 C500 		sts 197,__zero_reg__
  46:List1.c       ****             UBRR0L = BAUDRATE;
 125               		.stabn	68,0,46,.LM4-.LFBB1
GAS LISTING /tmp/cctLN5LS.s 			page 4


 126               	.LM4:
 127 000c 90E1      		ldi r25,lo8(16)
 128 000e 9093 C400 		sts 196,r25
  47:List1.c       ****             UCSR0A = (1 << U2X0);
 129               		.stabn	68,0,47,.LM5-.LFBB1
 130               	.LM5:
 131 0012 8093 C000 		sts 192,r24
  48:List1.c       ****             UCSR0B = (1 << RXCIE0) | (1 << RXEN0) | (1 << TXEN0);
 132               		.stabn	68,0,48,.LM6-.LFBB1
 133               	.LM6:
 134 0016 88E9      		ldi r24,lo8(-104)
 135 0018 8093 C100 		sts 193,r24
  49:List1.c       ****             UCSR0C = (1 << UCSZ00) | (1 << UCSZ01);
 136               		.stabn	68,0,49,.LM7-.LFBB1
 137               	.LM7:
 138 001c 86E0      		ldi r24,lo8(6)
 139 001e 8093 C200 		sts 194,r24
 140 0022 0895      		ret
 141               		.size	uartInit, .-uartInit
 142               	.Lscope1:
 143               		.stabs	"",36,0,0,.Lscope1-.LFBB1
 144               		.stabd	78,0,0
 145               		.stabs	"systemInit:F(0,47)",36,0,57,systemInit
 146               	.global	systemInit
 147               		.type	systemInit, @function
 148               	systemInit:
 149               		.stabd	46,0,0
  50:List1.c       ****             
  51:List1.c       ****         }
  52:List1.c       **** 
  53:List1.c       ****         //***********************************//
  54:List1.c       ****     
  55:List1.c       ****     
  56:List1.c       ****     // System
  57:List1.c       ****         void systemInit(){
 150               		.stabn	68,0,57,.LM8-.LFBB2
 151               	.LM8:
 152               	.LFBB2:
 153               	/* prologue: function */
 154               	/* frame size = 0 */
 155               	/* stack size = 0 */
 156               	.L__stack_usage = 0
  58:List1.c       ****             // DDRB = (1 << trigger); // Configurate PB0 as Output
  59:List1.c       ****             // DDRD = ~(1 << echo);// Configurzte PD2 as Input 
  60:List1.c       ****             // DDRD = (1 << TX); // Configurate PD1 as Output
  61:List1.c       ****             // DDRD = ~(1 << RX); // Configurate PD0 as Input
  62:List1.c       ****             DDRB = (1 << PB0); // trigger
 157               		.stabn	68,0,62,.LM9-.LFBB2
 158               	.LM9:
 159 0024 81E0      		ldi r24,lo8(1)
 160 0026 84B9      		out 0x4,r24
  63:List1.c       ****             DDRB = ~(1 << PD5); // Echo
 161               		.stabn	68,0,63,.LM10-.LFBB2
 162               	.LM10:
 163 0028 8FED      		ldi r24,lo8(-33)
 164 002a 84B9      		out 0x4,r24
  64:List1.c       ****             PORTB =  0x00; // Putting PB0 output to low state
GAS LISTING /tmp/cctLN5LS.s 			page 5


 165               		.stabn	68,0,64,.LM11-.LFBB2
 166               	.LM11:
 167 002c 15B8      		out 0x5,__zero_reg__
  65:List1.c       **** 
  66:List1.c       ****             sei();
 168               		.stabn	68,0,66,.LM12-.LFBB2
 169               	.LM12:
 170               	/* #APP */
 171               	 ;  66 "List1.c" 1
 172 002e 7894      		sei
 173               	 ;  0 "" 2
 174               	/* #NOAPP */
 175 0030 0895      		ret
 176               		.size	systemInit, .-systemInit
 177               	.Lscope2:
 178               		.stabs	"",36,0,0,.Lscope2-.LFBB2
 179               		.stabd	78,0,0
 180               		.stabs	"delay_ms:F(0,47)",36,0,72,delay_ms
 181               		.stabs	"ms:P(5,4)",64,0,72,24
 182               	.global	delay_ms
 183               		.type	delay_ms, @function
 184               	delay_ms:
 185               		.stabd	46,0,0
  67:List1.c       ****             
  68:List1.c       ****         }
  69:List1.c       ****     //***********************************//
  70:List1.c       ****     
  71:List1.c       ****     // Functions
  72:List1.c       ****         void delay_ms(uint16_t ms){
 186               		.stabn	68,0,72,.LM13-.LFBB3
 187               	.LM13:
 188               	.LFBB3:
 189               	/* prologue: function */
 190               	/* frame size = 0 */
 191               	/* stack size = 0 */
 192               	.L__stack_usage = 0
  73:List1.c       ****             uint16_t i, j;
  74:List1.c       ****             for(i=0; i<ms; i++)
 193               		.stabn	68,0,74,.LM14-.LFBB3
 194               	.LM14:
 195 0032 20E0      		ldi r18,0
 196 0034 30E0      		ldi r19,0
 197               	.L4:
 198               		.stabn	68,0,74,.LM15-.LFBB3
 199               	.LM15:
 200 0036 2817      		cp r18,r24
 201 0038 3907      		cpc r19,r25
 202 003a 01F0      		breq .L9
 203 003c 40EA      		ldi r20,lo8(-96)
 204 003e 5FE0      		ldi r21,lo8(15)
 205               	.L5:
  75:List1.c       ****                 for(j=0; j<4000; j++)
  76:List1.c       ****                     _NOP();
 206               		.stabn	68,0,76,.LM16-.LFBB3
 207               	.LM16:
 208               	/* #APP */
 209               	 ;  76 "List1.c" 1
GAS LISTING /tmp/cctLN5LS.s 			page 6


 210 0040 0000      		nop
 211               	 ;  0 "" 2
 212               	/* #NOAPP */
 213 0042 4150      		subi r20,1
 214 0044 5109      		sbc r21,__zero_reg__
  75:List1.c       ****                 for(j=0; j<4000; j++)
 215               		.stabn	68,0,75,.LM17-.LFBB3
 216               	.LM17:
 217 0046 01F4      		brne .L5
  74:List1.c       ****                 for(j=0; j<4000; j++)
 218               		.stabn	68,0,74,.LM18-.LFBB3
 219               	.LM18:
 220 0048 2F5F      		subi r18,-1
 221 004a 3F4F      		sbci r19,-1
 222 004c 00C0      		rjmp .L4
 223               	.L9:
 224               	/* epilogue start */
  77:List1.c       ****         }
 225               		.stabn	68,0,77,.LM19-.LFBB3
 226               	.LM19:
 227 004e 0895      		ret
 228               		.size	delay_ms, .-delay_ms
 229               		.stabs	"i:r(5,4)",64,0,73,18
 230               		.stabn	192,0,0,.LFBB3-.LFBB3
 231               		.stabn	224,0,0,.Lscope3-.LFBB3
 232               	.Lscope3:
 233               		.stabs	"",36,0,0,.Lscope3-.LFBB3
 234               		.stabd	78,0,0
 235               		.stabs	"write:F(5,2)",36,0,80,write
 236               		.stabs	"c:P(5,2)",64,0,80,24
 237               	.global	write
 238               		.type	write, @function
 239               	write:
 240               		.stabd	46,0,0
  78:List1.c       **** 
  79:List1.c       ****         
  80:List1.c       ****         uint8_t write(uint8_t c){
 241               		.stabn	68,0,80,.LM20-.LFBB4
 242               	.LM20:
 243               	.LFBB4:
 244               	/* prologue: function */
 245               	/* frame size = 0 */
 246               	/* stack size = 0 */
 247               	.L__stack_usage = 0
  81:List1.c       ****             uint8_t rc = 0;
  82:List1.c       **** 
  83:List1.c       ****             cli();
 248               		.stabn	68,0,83,.LM21-.LFBB4
 249               	.LM21:
 250               	/* #APP */
 251               	 ;  83 "List1.c" 1
 252 0050 F894      		cli
 253               	 ;  0 "" 2
  84:List1.c       ****             if (!usart_transmitting) {
 254               		.stabn	68,0,84,.LM22-.LFBB4
 255               	.LM22:
 256               	/* #NOAPP */
GAS LISTING /tmp/cctLN5LS.s 			page 7


 257 0052 9091 0000 		lds r25,usart_transmitting
 258 0056 9111      		cpse r25,__zero_reg__
 259 0058 00C0      		rjmp .L11
  85:List1.c       ****                 UDR0 = c;
 260               		.stabn	68,0,85,.LM23-.LFBB4
 261               	.LM23:
 262 005a 8093 C600 		sts 198,r24
  86:List1.c       ****                 UCSR0B |= (1 << UDRIE0);
 263               		.stabn	68,0,86,.LM24-.LFBB4
 264               	.LM24:
 265 005e 8091 C100 		lds r24,193
 266 0062 8062      		ori r24,lo8(32)
 267 0064 8093 C100 		sts 193,r24
  87:List1.c       ****                 usart_transmitting = 1;
 268               		.stabn	68,0,87,.LM25-.LFBB4
 269               	.LM25:
 270 0068 81E0      		ldi r24,lo8(1)
 271 006a 8093 0000 		sts usart_transmitting,r24
 272 006e 00C0      		rjmp .L15
 273               	.L11:
 274               	.LBB2:
  88:List1.c       ****             } else {
  89:List1.c       ****                 uint8_t next = tx_head + 1;
 275               		.stabn	68,0,89,.LM26-.LFBB4
 276               	.LM26:
 277 0070 E091 0000 		lds r30,tx_head
 278 0074 91E0      		ldi r25,lo8(1)
 279 0076 9E0F      		add r25,r30
  90:List1.c       ****                 if (next >= BUFFER_SIZE)
 280               		.stabn	68,0,90,.LM27-.LFBB4
 281               	.LM27:
 282 0078 983C      		cpi r25,lo8(-56)
 283 007a 00F0      		brlo .L13
  91:List1.c       ****                     next = 0;
 284               		.stabn	68,0,91,.LM28-.LFBB4
 285               	.LM28:
 286 007c 90E0      		ldi r25,0
 287               	.L13:
  92:List1.c       ****                 if (next != tx_tail) {
 288               		.stabn	68,0,92,.LM29-.LFBB4
 289               	.LM29:
 290 007e 2091 0000 		lds r18,tx_tail
 291 0082 9217      		cp r25,r18
 292 0084 01F0      		breq .L14
  93:List1.c       ****                     tx_buffer[tx_head] = c;
 293               		.stabn	68,0,93,.LM30-.LFBB4
 294               	.LM30:
 295 0086 F0E0      		ldi r31,0
 296 0088 E050      		subi r30,lo8(-(tx_buffer))
 297 008a F040      		sbci r31,hi8(-(tx_buffer))
 298 008c 8083      		st Z,r24
  94:List1.c       ****                     tx_head = next;
 299               		.stabn	68,0,94,.LM31-.LFBB4
 300               	.LM31:
 301 008e 9093 0000 		sts tx_head,r25
 302               	.L15:
 303               	.LBE2:
GAS LISTING /tmp/cctLN5LS.s 			page 8


  81:List1.c       **** 
 304               		.stabn	68,0,81,.LM32-.LFBB4
 305               	.LM32:
 306 0092 80E0      		ldi r24,0
 307               	.LBB3:
 308 0094 00C0      		rjmp .L12
 309               	.L14:
  95:List1.c       ****                 } else  /* buffer cheio */
  96:List1.c       ****                     rc = 1;
 310               		.stabn	68,0,96,.LM33-.LFBB4
 311               	.LM33:
 312 0096 81E0      		ldi r24,lo8(1)
 313               	.L12:
 314               	.LBE3:
  97:List1.c       ****             }
  98:List1.c       ****             sei();
 315               		.stabn	68,0,98,.LM34-.LFBB4
 316               	.LM34:
 317               	/* #APP */
 318               	 ;  98 "List1.c" 1
 319 0098 7894      		sei
 320               	 ;  0 "" 2
  99:List1.c       ****             return rc;
 100:List1.c       ****         }
 321               		.stabn	68,0,100,.LM35-.LFBB4
 322               	.LM35:
 323               	/* #NOAPP */
 324 009a 0895      		ret
 325               		.size	write, .-write
 326               		.stabs	"rc:r(5,2)",64,0,81,24
 327               		.stabn	192,0,0,.LFBB4-.LFBB4
 328               		.stabs	"next:r(5,2)",64,0,89,25
 329               		.stabn	192,0,0,.LBB2-.LFBB4
 330               		.stabn	224,0,0,.LBE2-.LFBB4
 331               		.stabs	"next:r(5,2)",64,0,89,25
 332               		.stabn	192,0,0,.LBB3-.LFBB4
 333               		.stabn	224,0,0,.LBE3-.LFBB4
 334               		.stabn	224,0,0,.Lscope4-.LFBB4
 335               	.Lscope4:
 336               		.stabs	"",36,0,0,.Lscope4-.LFBB4
 337               		.stabd	78,0,0
 338               		.stabs	"__vector_18:F(0,47)",36,0,106,__vector_18
 339               	.global	__vector_18
 340               		.type	__vector_18, @function
 341               	__vector_18:
 342               		.stabd	46,0,0
 101:List1.c       ****     //***********************************//
 102:List1.c       ****     
 103:List1.c       ****     //***********************************//
 104:List1.c       ****     // Interruptions
 105:List1.c       ****         // Interruption of RX 
 106:List1.c       ****         ISR(USART_RX_vect){
 343               		.stabn	68,0,106,.LM36-.LFBB5
 344               	.LM36:
 345               	.LFBB5:
 346 009c 1F92      		push r1
 347 009e 0F92      		push r0
GAS LISTING /tmp/cctLN5LS.s 			page 9


 348 00a0 0FB6      		in r0,__SREG__
 349 00a2 0F92      		push r0
 350 00a4 1124      		clr __zero_reg__
 351 00a6 8F93      		push r24
 352               	/* prologue: Signal */
 353               	/* frame size = 0 */
 354               	/* stack size = 4 */
 355               	.L__stack_usage = 4
 107:List1.c       **** 
 108:List1.c       ****             unsigned char data = UDR0; // Recived data
 356               		.stabn	68,0,108,.LM37-.LFBB5
 357               	.LM37:
 358 00a8 8091 C600 		lds r24,198
 109:List1.c       ****             // Start the Infrared sensor
 110:List1.c       ****             if(data == 's'){
 359               		.stabn	68,0,110,.LM38-.LFBB5
 360               	.LM38:
 361 00ac 8337      		cpi r24,lo8(115)
 362 00ae 01F4      		brne .L17
 111:List1.c       ****                 PORTB = (1 << PB0);  // Setting high to the trigger   
 363               		.stabn	68,0,111,.LM39-.LFBB5
 364               	.LM39:
 365 00b0 81E0      		ldi r24,lo8(1)
 366 00b2 85B9      		out 0x5,r24
 367 00b4 00C0      		rjmp .L16
 368               	.L17:
 112:List1.c       ****                 // flag = 1;
 113:List1.c       ****             }else{
 114:List1.c       ****                 flag = 0;
 369               		.stabn	68,0,114,.LM40-.LFBB5
 370               	.LM40:
 371 00b6 1092 0000 		sts flag,__zero_reg__
 372               	.L16:
 373               	/* epilogue start */
 115:List1.c       ****             }
 116:List1.c       ****             
 117:List1.c       ****         }
 374               		.stabn	68,0,117,.LM41-.LFBB5
 375               	.LM41:
 376 00ba 8F91      		pop r24
 377 00bc 0F90      		pop r0
 378 00be 0FBE      		out __SREG__,r0
 379 00c0 0F90      		pop r0
 380 00c2 1F90      		pop r1
 381 00c4 1895      		reti
 382               		.size	__vector_18, .-__vector_18
 383               		.stabs	"data:r(0,11)",64,0,108,24
 384               		.stabn	192,0,0,.LFBB5-.LFBB5
 385               		.stabn	224,0,0,.Lscope5-.LFBB5
 386               	.Lscope5:
 387               		.stabs	"",36,0,0,.Lscope5-.LFBB5
 388               		.stabd	78,0,0
 389               		.stabs	"__vector_1:F(0,47)",36,0,127,__vector_1
 390               	.global	__vector_1
 391               		.type	__vector_1, @function
 392               	__vector_1:
 393               		.stabd	46,0,0
GAS LISTING /tmp/cctLN5LS.s 			page 10


 118:List1.c       **** 
 119:List1.c       ****         // Interrupton of TX
 120:List1.c       ****         // ISR(USART_UDRE_vect){
 121:List1.c       ****         //     // send "48" throught 
 122:List1.c       ****         //     // PORTB = (1 << PB1);
 123:List1.c       ****         //     flag = 0;
 124:List1.c       **** 
 125:List1.c       ****         // }        
 126:List1.c       ****         // Interruption of INT0
 127:List1.c       ****         ISR(INT0_vect){
 394               		.stabn	68,0,127,.LM42-.LFBB6
 395               	.LM42:
 396               	.LFBB6:
 397 00c6 1F92      		push r1
 398 00c8 0F92      		push r0
 399 00ca 0FB6      		in r0,__SREG__
 400 00cc 0F92      		push r0
 401 00ce 1124      		clr __zero_reg__
 402 00d0 2F93      		push r18
 403 00d2 3F93      		push r19
 404 00d4 4F93      		push r20
 405 00d6 5F93      		push r21
 406 00d8 6F93      		push r22
 407 00da 7F93      		push r23
 408 00dc 8F93      		push r24
 409 00de 9F93      		push r25
 410 00e0 AF93      		push r26
 411 00e2 BF93      		push r27
 412 00e4 EF93      		push r30
 413 00e6 FF93      		push r31
 414               	/* prologue: Signal */
 415               	/* frame size = 0 */
 416               	/* stack size = 15 */
 417               	.L__stack_usage = 15
 128:List1.c       ****             flag = 1;
 418               		.stabn	68,0,128,.LM43-.LFBB6
 419               	.LM43:
 420 00e8 81E0      		ldi r24,lo8(1)
 421 00ea 8093 0000 		sts flag,r24
 129:List1.c       ****             delay_ms(100);
 422               		.stabn	68,0,129,.LM44-.LFBB6
 423               	.LM44:
 424 00ee 84E6      		ldi r24,lo8(100)
 425 00f0 90E0      		ldi r25,0
 426 00f2 0E94 0000 		call delay_ms
 427               	/* epilogue start */
 130:List1.c       ****             // PORTB = (1 << PB1);
 131:List1.c       ****         }
 428               		.stabn	68,0,131,.LM45-.LFBB6
 429               	.LM45:
 430 00f6 FF91      		pop r31
 431 00f8 EF91      		pop r30
 432 00fa BF91      		pop r27
 433 00fc AF91      		pop r26
 434 00fe 9F91      		pop r25
 435 0100 8F91      		pop r24
 436 0102 7F91      		pop r23
GAS LISTING /tmp/cctLN5LS.s 			page 11


 437 0104 6F91      		pop r22
 438 0106 5F91      		pop r21
 439 0108 4F91      		pop r20
 440 010a 3F91      		pop r19
 441 010c 2F91      		pop r18
 442 010e 0F90      		pop r0
 443 0110 0FBE      		out __SREG__,r0
 444 0112 0F90      		pop r0
 445 0114 1F90      		pop r1
 446 0116 1895      		reti
 447               		.size	__vector_1, .-__vector_1
 448               	.Lscope6:
 449               		.stabs	"",36,0,0,.Lscope6-.LFBB6
 450               		.stabd	78,0,0
 451               		.section	.text.startup,"ax",@progbits
 452               		.stabs	"main:F(0,1)",36,0,138,main
 453               	.global	main
 454               		.type	main, @function
 455               	main:
 456               		.stabd	46,0,0
 132:List1.c       ****        
 133:List1.c       ****     //***********************************//
 134:List1.c       **** //***********************************//
 135:List1.c       **** 
 136:List1.c       **** //***********************************//
 137:List1.c       **** // Main 
 138:List1.c       ****     int main(void){
 457               		.stabn	68,0,138,.LM46-.LFBB7
 458               	.LM46:
 459               	.LFBB7:
 460               	/* prologue: function */
 461               	/* frame size = 0 */
 462               	/* stack size = 0 */
 463               	.L__stack_usage = 0
 139:List1.c       **** 
 140:List1.c       ****         uartInit();
 464               		.stabn	68,0,140,.LM47-.LFBB7
 465               	.LM47:
 466 0000 0E94 0000 		call uartInit
 141:List1.c       ****         systemInit();
 467               		.stabn	68,0,141,.LM48-.LFBB7
 468               	.LM48:
 469 0004 0E94 0000 		call systemInit
 470               	.L21:
 142:List1.c       ****         
 143:List1.c       ****         
 144:List1.c       ****         while(1){
 145:List1.c       ****         // Nothing to do
 146:List1.c       ****             
 147:List1.c       ****             // if(flag){
 148:List1.c       ****             //     // send something on serial
 149:List1.c       ****                 
 150:List1.c       ****             //     write('Y');
 151:List1.c       ****             //     delay_ms(250);
 152:List1.c       **** 
 153:List1.c       ****             // }
 154:List1.c       **** 
GAS LISTING /tmp/cctLN5LS.s 			page 12


 155:List1.c       ****         }
 471               		.stabn	68,0,155,.LM49-.LFBB7
 472               	.LM49:
 473 0008 00C0      		rjmp .L21
 474               		.size	main, .-main
 475               	.Lscope7:
 476               		.stabs	"",36,0,0,.Lscope7-.LFBB7
 477               		.stabd	78,0,0
 478               		.comm	usart_transmitting,1,1
 479               		.comm	tx_tail,1,1
 480               		.comm	tx_head,1,1
 481               		.comm	tx_buffer,200,1
 482               	.global	flag
 483               		.section .bss
 484               		.type	flag, @object
 485               		.size	flag, 1
 486               	flag:
 487 0000 00        		.zero	1
 488               		.comm	rx_tail,1,1
 489               		.comm	rx_head,1,1
 490               		.comm	rx_buffer,200,1
 491               		.stabs	"rx_buffer:G(0,48)=ar(0,49)=r(0,49);0;0177777;;0;199;(5,2)",32,0,25,0
 492               		.stabs	"rx_head:G(5,2)",32,0,26,0
 493               		.stabs	"rx_tail:G(5,2)",32,0,26,0
 494               		.stabs	"flag:G(5,2)",32,0,27,0
 495               		.stabs	"tx_buffer:G(0,48)",32,0,29,0
 496               		.stabs	"tx_head:G(5,2)",32,0,30,0
 497               		.stabs	"tx_tail:G(5,2)",32,0,30,0
 498               		.stabs	"usart_transmitting:G(5,2)",32,0,31,0
 499               		.text
 500               		.stabs	"",100,0,0,.Letext0
 501               	.Letext0:
 502               		.ident	"GCC: (GNU) 4.9.2"
 503               	.global __do_clear_bss
GAS LISTING /tmp/cctLN5LS.s 			page 13


DEFINED SYMBOLS
                            *ABS*:0000000000000000 List1.c
     /tmp/cctLN5LS.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/cctLN5LS.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/cctLN5LS.s:4      *ABS*:000000000000003f __SREG__
     /tmp/cctLN5LS.s:5      *ABS*:0000000000000000 __tmp_reg__
     /tmp/cctLN5LS.s:6      *ABS*:0000000000000001 __zero_reg__
     /tmp/cctLN5LS.s:105    .text:0000000000000000 uartInit
     /tmp/cctLN5LS.s:148    .text:0000000000000024 systemInit
     /tmp/cctLN5LS.s:184    .text:0000000000000032 delay_ms
     /tmp/cctLN5LS.s:239    .text:0000000000000050 write
                            *COM*:0000000000000001 usart_transmitting
                            *COM*:0000000000000001 tx_head
                            *COM*:0000000000000001 tx_tail
                            *COM*:00000000000000c8 tx_buffer
     /tmp/cctLN5LS.s:341    .text:000000000000009c __vector_18
     /tmp/cctLN5LS.s:486    .bss:0000000000000000 flag
     /tmp/cctLN5LS.s:392    .text:00000000000000c6 __vector_1
     /tmp/cctLN5LS.s:455    .text.startup:0000000000000000 main
                            *COM*:0000000000000001 rx_tail
                            *COM*:0000000000000001 rx_head
                            *COM*:00000000000000c8 rx_buffer

UNDEFINED SYMBOLS
__do_clear_bss
